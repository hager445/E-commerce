<section class="details mx-32 overflow-hidden">
  <div class="grid grid-cols-2 gap-32" data-aos="zoom-in-up">
    <!-- images -->
    <div class="images flex items-center gap-3">
      <div class="sub-img flex flex-col gap-2">
        @for (img of product.images; track $index) { @if ($index <= 3) {

        <img
          (click)="changeMainImgSource(img)"
          data-aos="zoom-in-up"
          class="w-[150px] cursor-pointer"
          [class]="imageClickedSrc === img ? 'main-border' : ''"
          [src]="img"
          alt=""
        />
        } }
      </div>
      <div class="image-cover">
        <img
          class="w-full"
          data-aos="zoom-in-up"
          [src]="imageClickedSrc ? imageClickedSrc : product.imageCover"
          alt=""
        />
      </div>
    </div>
    <!-- desc -->
    <div class="product-info">
      <h2 class="text-sm font-semibold">{{ product.title }}</h2>
      <div class="space-x-5 text-[14px] my-3">
        <span class="rating">Rating : {{ product.ratingsAverage }} </span>
        <span class="text-zinc-500">(Review{{ product.ratingsQuantity }})</span>
        <span class="text-zinc-500">|</span>
        <span class="text-green-800"> {{ product.quantity }} Instock</span>
      </div>
      <p class="price text-sm">${{ product.price }}</p>
      <p
        class="desc text-sm text-gray-600 my-3 border-b-[1px] border-gray-800 pb-10"
      >
        {{ product.description }}
      </p>
      <div class="flex justify-between items-center mt-10">
        <div
          class="product-quantity text-lg border-[1px] border-gray-400 w-fit rounded-sm"
        >
          <span
            (click)="updateCount(productCount - 1, productId)"
            class="cursor-pointer border-e-[1px] border-gray-400 p-1 w-[50px] h-[50px] inline-flex items-center justify-center"
            ><i class="fa-solid fa-minus"></i
          ></span>
          <span class="px-6">{{ productCount }}</span
          ><span
            (click)="updateCount(productCount + 1, productId)"
            class="cursor-pointer border-s-[1px] border-gray-400 p-1 w-[50px] h-[50px] inline-flex items-center justify-center bg-mainColor text-white"
            ><i class="fa-regular fa-plus"></i
          ></span>
        </div>
        <app-favoritebtn [productId]="product._id"></app-favoritebtn>
      </div>
      <app-addtocart
        [productId]="productId"
        [fromProductDetails]="true"
      ></app-addtocart>
    </div>
  </div>
</section>
